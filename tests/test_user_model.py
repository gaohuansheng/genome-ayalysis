import re

filter_map = {
    'w1': ['A201', 'A202', 'A203', 'A204', 'A205', 'A206', 'A207', 'A208', 'A209', 'B210', 'B211', 'B212', 'B213',
           'B214', 'B215', 'B216', 'B217', 'B218', 'C219', 'C220', 'C221', 'C222', 'C223', 'C224', 'C225', 'C226',
           'C227'], '19': ['C119', 'C219', 'C319'],
    'w0': ['A101', 'A102', 'A103', 'A104', 'A105', 'A106', 'A107', 'A108', 'A109', 'B110', 'B111', 'B112', 'B113',
           'B114', 'B115', 'B116', 'B117', 'B118', 'C119', 'C120', 'C121', 'C122', 'C123', 'C124', 'C125', 'C126',
           'C127'], '11': ['B111', 'B211', 'B311', 'B411'], '7': ['A107', 'A207', 'A307'],
    '20150901': ['A201', 'A202', 'A203', 'A204', 'A205', 'A206', 'A207', 'A208', 'A209', 'B210', 'B211', 'B212', 'B213',
                 'B214', 'B215', 'B216', 'B217', 'B218', 'C219', 'C220', 'C221', 'C222', 'C223', 'C224', 'C225', 'C226',
                 'C227'], '8': ['A108', 'A208', 'A308', 'A408'],
    '20150921': ['A503', 'A506', 'A509', 'B512', 'B515', 'B518', 'C521', 'C524', 'C527'],
    '16': ['B116', 'B216', 'B316'], '1': ['A101', 'A201', 'A301'], '27': ['C127', 'C227', 'C327', 'C427', 'C527'],
    '23': ['C123', 'C223', 'C323', 'C423'], '6': ['A106', 'A206', 'A306', 'A406', 'A506'],
    '20150915': ['A402', 'A403', 'A405', 'A406', 'A408', 'A409', 'B411', 'B412', 'B414', 'B415', 'B417', 'B418', 'C420',
                 'C421', 'C423', 'C424', 'C426', 'C427'],
    'w3': ['A402', 'A403', 'A405', 'A406', 'A408', 'A409', 'B411', 'B412', 'B414', 'B415', 'B417', 'B418', 'C420',
           'C421', 'C423', 'C424', 'C426', 'C427'], '17': ['B117', 'B217', 'B317', 'B417'],
    '24': ['C124', 'C224', 'C324', 'C424', 'C524'],
    'A': ['A101', 'A102', 'A103', 'A104', 'A105', 'A106', 'A107', 'A108', 'A109', 'A201', 'A202', 'A203', 'A204',
          'A205', 'A206', 'A207', 'A208', 'A209', 'A301', 'A302', 'A303', 'A304', 'A305', 'A306', 'A307', 'A308',
          'A309', 'A402', 'A403', 'A405', 'A406', 'A408', 'A409', 'A503', 'A506', 'A509'],
    '10': ['B110', 'B210', 'B310'], '18': ['B118', 'B218', 'B318', 'B418', 'B518'],
    '20150907': ['A301', 'A302', 'A303', 'A304', 'A305', 'A306', 'A307', 'A308', 'A309', 'B310', 'B311', 'B312', 'B313',
                 'B314', 'B315', 'B316', 'B317', 'B318', 'C319', 'C320', 'C321', 'C322', 'C323', 'C324', 'C325', 'C326',
                 'C327'],
    'Vehicle': ['B110', 'B111', 'B112', 'B113', 'B114', 'B115', 'B116', 'B117', 'B118', 'B210', 'B211', 'B212', 'B213',
                'B214', 'B215', 'B216', 'B217', 'B218', 'B310', 'B311', 'B312', 'B313', 'B314', 'B315', 'B316', 'B317',
                'B318', 'B411', 'B412', 'B414', 'B415', 'B417', 'B418', 'B512', 'B515', 'B518'],
    '9': ['A109', 'A209', 'A309', 'A409', 'A509'], '13': ['B113', 'B213', 'B313'],
    '14': ['B114', 'B214', 'B314', 'B414'], '22': ['C122', 'C222', 'C322'],
    'w4': ['A503', 'A506', 'A509', 'B512', 'B515', 'B518', 'C521', 'C524', 'C527'],
    '20150825': ['A101', 'A102', 'A103', 'A104', 'A105', 'A106', 'A107', 'A108', 'A109', 'B110', 'B111', 'B112', 'B113',
                 'B114', 'B115', 'B116', 'B117', 'B118', 'C119', 'C120', 'C121', 'C122', 'C123', 'C124', 'C125', 'C126',
                 'C127'], '15': ['B115', 'B215', 'B315', 'B415', 'B515'],
    'w2': ['A301', 'A302', 'A303', 'A304', 'A305', 'A306', 'A307', 'A308', 'A309', 'B310', 'B311', 'B312', 'B313',
           'B314', 'B315', 'B316', 'B317', 'B318', 'C319', 'C320', 'C321', 'C322', 'C323', 'C324', 'C325', 'C326',
           'C327'], '5': ['A105', 'A205', 'A305', 'A405'], '12': ['B112', 'B212', 'B312', 'B412', 'B512'],
    '3': ['A103', 'A203', 'A303', 'A403', 'A503'], '2': ['A102', 'A202', 'A302', 'A402'], '4': ['A104', 'A204', 'A304'],
    '25': ['C125', 'C225', 'C325'],
    'saline': ['A101', 'A102', 'A103', 'A104', 'A105', 'A106', 'A107', 'A108', 'A109', 'A201', 'A202', 'A203', 'A204',
               'A205', 'A206', 'A207', 'A208', 'A209', 'A301', 'A302', 'A303', 'A304', 'A305', 'A306', 'A307', 'A308',
               'A309', 'A402', 'A403', 'A405', 'A406', 'A408', 'A409', 'A503', 'A506', 'A509'],
    'C': ['C119', 'C120', 'C121', 'C122', 'C123', 'C124', 'C125', 'C126', 'C127', 'C219', 'C220', 'C221', 'C222',
          'C223', 'C224', 'C225', 'C226', 'C227', 'C319', 'C320', 'C321', 'C322', 'C323', 'C324', 'C325', 'C326',
          'C327', 'C420', 'C421', 'C423', 'C424', 'C426', 'C427', 'C521', 'C524', 'C527'],
    '20': ['C120', 'C220', 'C320', 'C420'],
    'CK': ['C119', 'C120', 'C121', 'C122', 'C123', 'C124', 'C125', 'C126', 'C127', 'C219', 'C220', 'C221', 'C222',
           'C223', 'C224', 'C225', 'C226', 'C227', 'C319', 'C320', 'C321', 'C322', 'C323', 'C324', 'C325', 'C326',
           'C327', 'C420', 'C421', 'C423', 'C424', 'C426', 'C427', 'C521', 'C524', 'C527'],
    '21': ['C121', 'C221', 'C321', 'C421', 'C521'], '26': ['C126', 'C226', 'C326', 'C426'],
    'B': ['B110', 'B111', 'B112', 'B113', 'B114', 'B115', 'B116', 'B117', 'B118', 'B210', 'B211', 'B212', 'B213',
          'B214', 'B215', 'B216', 'B217', 'B218', 'B310', 'B311', 'B312', 'B313', 'B314', 'B315', 'B316', 'B317',
          'B318', 'B411', 'B412', 'B414', 'B415', 'B417', 'B418', 'B512', 'B515', 'B518']}
search_map = {
        'A202': [16, 17],
        'A408': [7, 11, 25, 26],
        'B415': [26],
        'B312': [4, 25],
        'B215': [2],
        'C226': [23, 28],
        'C326': [34],
        'A101': [15],
        'A301': [2],
        'A403': [6, 17, 31, 35],
        'A106': [1, 33],
        'C319': [15, 24],
        'B316': [8],
        'C521': [12, 23],
        'A104': [24, 31],
        'A204': [7, 11],
        'A205': [7, 11, 25, 26],
        'A503': [0, 5],
        'C123': [15, 32],
        'A201': [0, 5],
        'B217': [22],
        'B314': [17, 34],
        'B418': [3],
        'B110': [10, 18, 22],
        'A509': [4],
        'C120': [6, 17],
        'C426': [27],
        'B417': [25],
        'C126': [0],
        'C124': [15],
        'C320': [20, 32],
        'B115': [1, 32],
        'C122': [31, 32],
        'B411': [11],
        'C323': [1, 20, 32, 33],
        'B114': [20, 32],
        'B216': [12],
        'A308': [0, 9, 16, 19],
        'A103': [32],
        'C125': [20, 33],
        'A102': [30],
        'C321': [18, 22, 27, 28],
        'C219': [17, 34],
        'B518': [21, 29],
        'A109': [24],
        'B310': [20],
        'C524': [8, 30],
        'C322': [10, 14],
        'C223': [23, 30],
        'A309': [14],
        'B118': [1, 6, 19, 21],
        'A409': [17, 35],
        'C324': [10, 15, 22, 24],
        'B317': [2, 17, 34, 35],
        'C423': [6, 19],
        'A307': [6, 31],
        'C424': [12],
        'A302': [31, 35],
        'C121': [5],
        'A303': [35],
        'B214': [4, 9],
        'B116': [14],
        'A506': [26],
        'C327': [18, 22, 27, 28],
        'B111': [30],
        'A207': [22],
        'B113': [10, 15],
        'B117': [31, 32],
        'C420': [23, 28],
        'C119': [1],
        'B315': [18],
        'A405': [4],
        'A402': [9, 16],
        'A305': [29, 33],
        'B515': [0, 13],
        'A105': [14],
        'B412': [25],
        'C222': [22, 24],
        'C325': [1, 6],
        'C127': [1],
        'A209': [13, 26],
        'B218': [6, 17, 31, 35],
        'B212': [25],
        'C224': [23],
        'B318': [3],
        'B414': [3],
        'A203': [21, 29],
        'A206': [0, 9, 13, 26],
        'C220': [27],
        'A107': [8, 28],
        'A406': [1],
        'A304': [0],
        'B313': [4],
        'A108': [12, 23]
    }


filters = {}

for i in filter_map:
    for j in filter_map[i]:
        if j in search_map:
            if i in filters:
                filters[i] = search_map[j] + filters[i]
            else:
                filters[i] = search_map[j]

for i in filters:
    filters[i] = list(set(filters[i]))

l = []
for i in filter_map:
    if i == 0:
        l.append(filter_map[i])
    else:
        l = l + filter_map[i]

l = list(set(l))
print(l)



